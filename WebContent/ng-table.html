<!DOCTYPE html>
<html>
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
<body>

<div ng-app="myApp">
  <div ng-controller="demoController as demo">
    <h2 class="page-header">Angular ngTable: inmemory list</h2>
    <table ng-table="demo.tableParams" show-filter="true" class="table table-bordered table-striped">
      <tr ng-repeat="row in $data track by row.id">
        <td title="'Installation At'" filter="{installationAt: 'text'}" sortable="'installationAt'">{{row.installationAt}}</td>
        <td title="'Admin Email'" filter="{adminEmail: 'text'}" sortable="'adminEmail'">{{row.adminEmail}}</td>
        <td title="'Powered By'" filter="{poweredBy: 'text'}" sortable="'poweredBy'">{{row.poweredBy}}</td>
        <td title="'Powered By Icon'" filter="{poweredByIcon: 'text'}" sortable="'poweredByIcon'">{{row.poweredByIcon}}</td>
      </tr>
    </table>
  </div>
</div>

<script>

var app = angular.module('myApp', ['ngTable']);
(function() {

  app.controller("demoController", demoController);
  demoController.$inject = ["NgTableParams", "demoDataGenerator"];

  function demoController(NgTableParams, demoDataGenerator) {
    // tip: to debug, open chrome dev tools and uncomment the following line 
    //debugger;
    
    this.tableParams = new NgTableParams({
      page: 1, // show first page
      count: 10 // count per page
    }, {
      filterDelay: 0,
      data: demoDataGenerator.generateData(100)
    });
  }
})();

(function() {

  app.service("demoDataGenerator", demoDataGenerator);

  function demoDataGenerator() {

    var template = {
      "installationAt": "Philadelphia, PA",
      "adminEmail": "ksm@pobox.com",
      "poweredBy": "Cofax",
      "poweredByIcon": "/images/cofax.gif"
    };

    this.generateData = generateData;

    function generateData(number) {
      return _.range(number).map(function(n) {
        var clone = _.mapValues(template, function(val) {
          return val + Number(_.uniqueId());
        });
        _.extend(clone, {
          id: n
        });
        return clone;
      })
    }
  }
})();



</script>

</body>
</html>
